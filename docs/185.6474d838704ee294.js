"use strict";(self.webpackChunkcontent_service_ui=self.webpackChunkcontent_service_ui||[]).push([[185],{9185:(X,x,a)=>{a.r(x),a.d(x,{WordSentenceModule:()=>P});var p=a(6814),u=a(9310),c=a(5219),r=a(95),m=a(8783),e=a(4946),l=a(5118),A=a(7351),g=a(707),S=a(3714),h=a(4480),T=a(3965);function y(n,s){1&n&&(e.TgZ(0,"small"),e._uU(1),e.qZA()),2&n&&(e.xp6(1),e.Oqu("name"))}function b(n,s){1&n&&(e.TgZ(0,"small"),e._uU(1),e.qZA()),2&n&&(e.xp6(1),e.Oqu("publisher"))}function Z(n,s){1&n&&(e.TgZ(0,"small"),e._uU(1),e.qZA()),2&n&&(e.xp6(1),e.Oqu("Text"))}function W(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"form",1)(2,"div",2)(3,"p-messages",3),e.NdJ("valueChange",function(i){e.CHM(t);const d=e.oxw();return e.KtG(d.messages=i)}),e.qZA(),e.TgZ(4,"div",4)(5,"label",5),e._uU(6),e.qZA(),e._UZ(7,"input",6),e.YNc(8,y,2,1,"small",0),e.qZA(),e.TgZ(9,"div",4)(10,"label",7),e._uU(11),e.qZA(),e._UZ(12,"input",8),e.YNc(13,b,2,1,"small",0),e.qZA(),e.TgZ(14,"div",4)(15,"label",9),e._uU(16),e.qZA(),e._UZ(17,"p-dropdown",10),e.qZA(),e.TgZ(18,"div",4)(19,"label",9),e._uU(20),e.qZA(),e._UZ(21,"p-dropdown",11),e.qZA(),e.TgZ(22,"div",4)(23,"label",12),e._uU(24),e.qZA(),e._UZ(25,"textarea",13),e.YNc(26,Z,2,1,"small",0),e.qZA()(),e.TgZ(27,"div",14)(28,"button",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveWordAndSentece("Add"))}),e.qZA(),e._uU(29,"\xa0 "),e.TgZ(30,"button",16),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancel())}),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.addWordAndSentenceForm),e.xp6(2),e.Q6J("value",t.messages)("enableService",!1)("closable",!0),e.xp6(3),e.hij("","Name"," *"),e.xp6(1),e.s9C("placeholder","Enter name"),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.addWordAndSentenceForm.controls.name.errors),e.xp6(3),e.hij("","Author"," *"),e.xp6(1),e.s9C("placeholder","Enter publisher"),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.addWordAndSentenceForm.controls.publisher.errors),e.xp6(3),e.hij("","Content Type","*"),e.xp6(1),e.s9C("placeholder","Select Content Type"),e.Q6J("showClear",!0)("options",t.contentTypeList),e.xp6(3),e.hij("","Language"," *"),e.xp6(1),e.s9C("placeholder","Select Language"),e.Q6J("options",t.languageList),e.xp6(3),e.hij("","Text"," *"),e.xp6(1),e.s9C("placeholder","Enter Text"),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.addWordAndSentenceForm.controls.text.errors),e.xp6(2),e.s9C("label","Submit"),e.xp6(2),e.s9C("label","Cancel")}}function F(n,s){1&n&&(e.TgZ(0,"small"),e._uU(1),e.qZA()),2&n&&(e.xp6(1),e.Oqu("contentText"))}const U=function(n){return{"ng-invalid ng-dirty":n}};function w(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"form",1)(2,"div",2)(3,"p-messages",3),e.NdJ("valueChange",function(i){e.CHM(t);const d=e.oxw();return e.KtG(d.messages=i)}),e.qZA(),e.TgZ(4,"div",4)(5,"label",17),e._uU(6),e.qZA(),e._UZ(7,"input",18),e.qZA(),e.TgZ(8,"div",4)(9,"label",9),e._uU(10),e.qZA(),e._UZ(11,"p-dropdown",19),e.qZA(),e.TgZ(12,"div",4)(13,"label",20),e._uU(14),e.qZA(),e._UZ(15,"textarea",21),e.YNc(16,F,2,1,"small",0),e.qZA()(),e.TgZ(17,"div",14)(18,"button",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.editContent())}),e.qZA(),e._uU(19,"\xa0 "),e.TgZ(20,"button",16),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancel())}),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.editWordAndSentenceForm),e.xp6(2),e.Q6J("value",t.messages)("enableService",!1)("closable",!0),e.xp6(3),e.hij("","Collection Id"," *"),e.xp6(1),e.s9C("placeholder","Enter collectionId"),e.xp6(3),e.Oqu("Content Type"),e.xp6(1),e.s9C("placeholder","Select Content Type"),e.Q6J("showClear",!0)("options",t.contentTypeList)("ngClass",e.VKq(16,U,t.editWordAndSentenceForm.controls.contentType.errors)),e.xp6(3),e.hij("","Content Text"," *"),e.xp6(1),e.s9C("placeholder","Enter contentText"),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.editWordAndSentenceForm.controls.contentText.errors),e.xp6(2),e.s9C("label","Submit"),e.xp6(2),e.s9C("label","Cancel")}}let _=(()=>{class n{constructor(t,o,i,d){this.formBuilder=t,this.ref=o,this.dialogConfig=i,this.customerService=d,this.difficultyLvlList=m.X.difficultyLvlList,this.languageList=m.X.languages,this.contentTypeList=m.X.contentTypeList,this.data=this.dialogConfig.data,this.mode=this.data.mode,this.wordAndSentenceData=this.data.wordAndSentenceData}ngOnInit(){this.initializeAddForm(),"Edit"===this.mode&&this.initialzeEditForm()}initializeAddForm(){this.addWordAndSentenceForm=this.formBuilder.group({language:["",r.kI.required],text:["",r.kI.required],publisher:["",r.kI.required],name:["",r.kI.required],contentType:["",r.kI.required]})}initialzeEditForm(){this.editWordAndSentenceForm=this.formBuilder.group({collectionId:[this.wordAndSentenceData?.collectionId],contentType:[this.wordAndSentenceData?.contentType,r.kI.required],contentText:[this.wordAndSentenceData?.contentSourceData[0].text||"",r.kI.required],contentAudio:[""]})}cancel(){this.ref.close()}saveWordAndSentece(t){if("Add"===t){if(this.addWordAndSentenceForm.invalid)return void(this.messages=[{severity:"error",summary:"Form Field Required"}]);this.customerService.addMoreWords({collectionId:"",publisher:this.addWordAndSentenceForm.value.publisher,name:this.addWordAndSentenceForm.value.name,contentType:this.addWordAndSentenceForm.value.contentType,image:" ",language:this.addWordAndSentenceForm.value.language,status:"live",contentSourceData:[{language:this.addWordAndSentenceForm.value.language,audioUrl:"",text:this.addWordAndSentenceForm.value.text}]}).subscribe(i=>{this.ref.close(),location.reload()},i=>{this.messages=[{severity:"error",summary:i}]})}else if("Edit"===t){if(this.editWordAndSentenceForm.invalid)return void(this.messages=[{severity:"error",summary:"Form Field Required"}]);this.customerService.addMoreWords({collectionId:"",name:this.wordAndSentenceData.name,contentType:this.wordAndSentenceData.contentType,image:" ",language:this.wordAndSentenceData.language,status:"live",contentSourceData:[{language:this.wordAndSentenceData.language,audioUrl:"",text:this.wordAndSentenceData.contentSourceData[0].text}]}).subscribe(i=>{this.ref.close(),location.reload()},i=>{this.messages=[{severity:"error",summary:i}]})}}editContent(){this.editWordAndSentenceForm.invalid?this.messages=[{severity:"error",summary:"Add Required Data"}]:this.customerService.editMoreWords({collectionId:"",name:this.wordAndSentenceData.name,contentType:this.editWordAndSentenceForm.value.contentType,image:" ",language:this.wordAndSentenceData.language,status:"live",contentSourceData:[{language:this.wordAndSentenceData.language,audioUrl:"",text:this.editWordAndSentenceForm.value.contentText}]},this.wordAndSentenceData._id).subscribe(o=>{o.updated&&this.ref.close(o.updated)},o=>{this.messages=[{severity:"error",summary:"Please fill all fields"}]})}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(r.qu),e.Y36(l.E7),e.Y36(l.S),e.Y36(A._))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-word-sentences"]],decls:2,vars:2,consts:[[4,"ngIf"],[3,"formGroup"],[1,"card","p-fluid"],[3,"value","enableService","closable","valueChange"],[1,"field"],["for","name"],["type","text","name","name","pInputText","","id","name","autofocus","","formControlName","name",3,"placeholder"],["for","publisher"],["type","text","name","publisher","pInputText","","id","publisher","autofocus","","formControlName","publisher",3,"placeholder"],["for","multiselect"],["formControlName","contentType","optionLabel","label","appendTo","body","optionValue","value",3,"showClear","options","placeholder"],["formControlName","language","optionLabel","label","appendTo","body","optionValue","value",3,"options","placeholder"],["for","text"],["type","text","name","text","pInputText","","id","text","autofocus","","formControlName","text","rows","3",3,"placeholder"],[1,"p-col-12","p-md-6","p-lg-4","p-xl-3","p-button-container"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button","p-button-success",3,"label","click"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button","p-button-danger",3,"label","click"],["for","contentType"],["type","text","name","collectionId","pInputText","","id","collectionId","autofocus","","formControlName","collectionId","readonly","",3,"placeholder"],["formControlName","contentType","optionLabel","label","appendTo","body","optionValue","value",3,"showClear","options","placeholder","ngClass"],["for","contentText"],["type","text","name","contentText","pInputText","","id","contentText","autofocus","","formControlName","contentText","rows","4",3,"placeholder"]],template:function(o,i){1&o&&(e.YNc(0,W,31,22,"div",0),e.YNc(1,w,21,18,"div",0)),2&o&&(e.Q6J("ngIf","Add"===i.mode),e.xp6(1),e.Q6J("ngIf","Edit"===i.mode))},dependencies:[p.mk,p.O5,r._Y,r.Fj,r.JJ,r.JL,g.Hq,S.o,h.H,T.Lt,r.sg,r.u]})}return n})();var f=a(6361),C=a(3904);const I=["dt2"],q=["collectionIdFilter"];function D(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"button",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.clear(i.dt1))}),e.qZA(),e.TgZ(2,"div",12)(3,"button",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.addMoreWords())}),e.qZA()()()}2&n&&(e.xp6(3),e.s9C("label","Add Word & Sentence"))}function M(n,s){1&n&&(e.TgZ(0,"tr")(1,"th",14)(2,"div",15),e._uU(3," Text "),e._UZ(4,"p-columnFilter",16),e.qZA()(),e.TgZ(5,"th",14)(6,"div",15),e._uU(7," Tags "),e._UZ(8,"p-columnFilter",17),e.qZA()(),e.TgZ(9,"th",14)(10,"div",15),e._uU(11," Content Type "),e._UZ(12,"p-columnFilter",18),e.qZA()(),e.TgZ(13,"th",14)(14,"div",15),e._uU(15," Language "),e._UZ(16,"p-columnFilter",19),e.qZA()(),e.TgZ(17,"th",14)(18,"div",15),e._uU(19," Collection Id "),e._UZ(20,"p-columnFilter",20,21),e.qZA()(),e.TgZ(22,"th",22),e._uU(23," Actions"),e.qZA()())}function J(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td",23)(12,"button",24),e.NdJ("click",function(){const d=e.CHM(t).$implicit,v=e.oxw();return e.KtG(v.editWorkAndSentence(d))}),e.qZA()()()}if(2&n){const t=s.$implicit;e.xp6(2),e.hij(" ",t.contentSourceData[0].text," "),e.xp6(2),e.hij(" ",t.tags," "),e.xp6(2),e.hij(" ",t.contentType," "),e.xp6(2),e.hij(" ",t.language," "),e.xp6(2),e.hij(" ",t.collectionId," ")}}function N(n,s){1&n&&(e.TgZ(0,"tr")(1,"td",25),e._uU(2,"No Data found."),e.qZA()())}function Y(n,s){1&n&&(e.TgZ(0,"tr")(1,"td",25),e._uU(2," Loading data.... Please wait. "),e.qZA()())}const L=function(){return["collectionId"]},j=function(){return{width:"450px"}};let E=(()=>{class n{constructor(t,o,i,d,v){this.contentService=t,this.ref=o,this.dialogService=i,this.confirmationService=d,this.route=v,this.wordAndSentenceData=[],this.langData=[],this.loading=!0,this.messages=[]}ngOnInit(){this.getStoriesList(),this.route.queryParams.subscribe(t=>{this.collectionId=t.collectionId})}ngAfterViewInit(){this.collectionId&&setTimeout(()=>{this.dataTable.filter(this.collectionId,"collectionId","contains")})}getStoriesList(){this.contentService.getWordSentenceList().subscribe(t=>{"success"===t.status&&(this.wordAndSentenceData=t.data,this.loading=!1)},t=>{this.messages=[],this.messages=[{severity:"error",detail:t?.error?.params?.errmsg}]})}deleteWorkAndSentence(t){this.confirmationService.confirm({message:"Are you sure that you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.contentService.deleteWordAndSentence(t?._id).subscribe(o=>{location.reload()}),this.messages=[],this.messages=[{severity:"info",summary:"Confirmed",detail:"You have accepted"}]},reject:()=>{this.messages=[],this.messages=[{severity:"info",summary:"Rejected",detail:"You have rejected"}]}})}hideDialog(){this.editDialog=!1}addMoreWords(){this.ref=this.dialogService.open(_,{header:"Add Word Or Sentence",data:{mode:"Add"},width:"40%",contentStyle:{overflow:"auto"}}),this.ref.onClose.subscribe(t=>{t&&(this.wordAndSentenceData.push(t),this.messages=[],this.messages=[{severity:"info",summary:"Created",detail:"Content is Created"}],this.dataTable.reset(),this.dataTable.value=this.wordAndSentenceData)})}editWorkAndSentence(t){this.ref=this.dialogService.open(_,{header:"Edit Word Or Sentence",data:{mode:"Edit",wordAndSentenceData:t},width:"40%",contentStyle:{overflow:"auto"}}),this.ref.onClose.subscribe(o=>{if(o){const i=this.wordAndSentenceData.findIndex(d=>d._id===o._id);-1!==i&&(this.wordAndSentenceData[i]=o),this.messages=[],this.messages=[{severity:"info",summary:"Updated",detail:"Content is Updated"}],this.dataTable.reset(),this.dataTable.value=this.wordAndSentenceData}})}clear(t){t.clear()}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(A._),e.Y36(l.E7),e.Y36(l.xA),e.Y36(c.YP),e.Y36(u.gz))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-word-sentence"]],viewQuery:function(o,i){if(1&o&&(e.Gf(I,5),e.Gf(q,5)),2&o){let d;e.iGM(d=e.CRH())&&(i.dataTable=d.first),e.iGM(d=e.CRH())&&(i.collectionIdFilter=d.first)}},features:[e._Bn([c.ez,c.YP])],decls:13,vars:10,consts:[[1,"grid"],[1,"col-12"],[1,"card"],["dataKey","id","styleClass","p-datatable-gridlines","responsiveLayout","scroll",3,"value","rows","loading","rowHover","paginator","globalFilterFields"],["dt2",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"flex","justify-content-between","flex-column","sm:flex-row"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined","mb-2",3,"click"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-success","mr-2",3,"label","click"],[2,"min-width","12rem"],[1,"flex","justify-content-between","align-items-center"],["type","text","field","text","display","menu","matchMode","contains","placeholder","Search"],["type","text","field","tags","display","menu","matchMode","contains","placeholder","Search"],["type","text","field","contentType","display","menu","matchMode","contains","placeholder","Search by Content Type"],["type","text","field","language","display","menu","matchMode","contains","placeholder","Search by name"],["type","text","field","collectionId","display","menu","matchMode","contains","placeholder","Search"],["collectionIdFilter",""],[2,"min-width","5rem"],[2,"text-align","center"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["colspan","8"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),e._uU(4,"Word & Sentences List"),e.qZA(),e.TgZ(5,"p-table",3,4),e.YNc(7,D,4,1,"ng-template",5),e.YNc(8,M,24,0,"ng-template",6),e.YNc(9,J,13,5,"ng-template",7),e.YNc(10,N,3,0,"ng-template",8),e.YNc(11,Y,3,0,"ng-template",9),e.qZA()()()(),e._UZ(12,"p-confirmDialog")),2&o&&(e.xp6(5),e.Q6J("value",i.wordAndSentenceData)("rows",10)("loading",i.loading)("rowHover",!0)("paginator",!0)("globalFilterFields",e.DdM(8,L)),e.xp6(7),e.Akn(e.DdM(9,j)))},dependencies:[f.iA,c.jx,f.xl,g.Hq,h.H,C.Q],styles:["input.ng-touched.ng-invalid[_ngcontent-%COMP%], textarea.ng-touched.ng-invalid[_ngcontent-%COMP%]{border:1px solid red}small[_ngcontent-%COMP%]{color:red}.p-button-container[_ngcontent-%COMP%]{float:right}#disabled-input[_ngcontent-%COMP%]{background-color:#f0f0f0;opacity:.7;pointer-events:none}"]})}return n})(),H=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[u.Bz.forChild([{path:"",component:E}]),u.Bz]})}return n})();var Q=a(4055),G=a(6651),O=a(6022),k=a(7902),B=a(4104),K=a(6804),R=a(1312),z=a(7161);let P=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({providers:[l.xA,l.E7,c.ez],imports:[p.ez,r.u5,f.U$,O.Xt,g.hJ,k.JH,S.j,K.KZ,h.T,Q.q4,T.kW,G.q,B.EV,R.S,C.D,z.O,r.UX,H]})}return n})()}}]);